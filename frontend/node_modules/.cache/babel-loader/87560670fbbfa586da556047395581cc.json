{"ast":null,"code":"import _slicedToArray from\"/Users/robertpage/Documents/Programming/Projects/sarah_portfolio_site/Production/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,useRef}from'react';import{Link}from'react-router-dom';import{Splide,SplideSlide}from'@splidejs/react-splide';import'@splidejs/splide/dist/css/themes/splide-default.min.css';import'./ProjectsSlider.css';function ProjectsSlider(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pages=_useState2[0],setPages=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var ref=useRef();var sliderOptions={rewind:true,perMove:0,gap:'3vw',type:'loop',autoWidth:true,pagination:false,arrows:false,focus:'center',trimspace:false};useEffect(function(){setIsLoading(true);fetchPages();// handleReset();\nsetIsLoading(false);},[]);function fetchPages(){fetch('https://sarah-ryder-backend.herokuapp.com/api/v2/pages/?type=portfolio.Project&fields=client,card_image,card_description').then(function(response){return response.json();}).then(function(json){return setPages(json.items);});}function handleLeftClick(e){try{ref.current.splide.go('<');}catch(err){console.log(err);}}function handleRightClick(e){try{ref.current.splide.go('>');}catch(err){console.log(err);}}function handleReset(e){try{ref.current.splide.go('+{2}');}catch(err){console.log(err);}}if(!isLoading){return/*#__PURE__*/_jsxs(\"div\",{id:\"projects-slider-flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"buttons-top-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"slider-button-top-left\",onClick:handleLeftClick}),/*#__PURE__*/_jsx(\"div\",{id:\"slider-button-top-right\",onClick:handleRightClick})]}),/*#__PURE__*/_jsx(\"div\",{className:\"projects-slider-container\",children:/*#__PURE__*/_jsx(Splide,{options:sliderOptions,ref:ref,children:pages.map(function(page,index){return/*#__PURE__*/_jsx(SplideSlide,{children:/*#__PURE__*/_jsx(Link,{to:\"/\"+page.meta.slug,onClick:handleReset(),className:\"nav-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"projects-slider-card-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"projects-slider-card-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:'https://sarah-ryder-backend.s3-us-west-2.amazonaws.com/original_images/'+page.card_image.title,alt:page.card_description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"projects-slider-card-text-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"projects-slider-client-name\",children:page.client}),/*#__PURE__*/_jsx(\"p\",{className:\"projects-slider-card-description\",children:page.card_description})]})]})})},index);})})}),/*#__PURE__*/_jsxs(\"div\",{id:\"buttons-bottom-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"slider-button-bottom-left\",onClick:handleLeftClick}),/*#__PURE__*/_jsx(\"div\",{id:\"slider-button-bottom-right\",onClick:handleRightClick})]})]});}else{return/*#__PURE__*/_jsx(\"div\",{});}}export default ProjectsSlider;","map":{"version":3,"sources":["/Users/robertpage/Documents/Programming/Projects/sarah_portfolio_site/Production/frontend/src/components/ProjectsSlider/ProjectsSlider.js"],"names":["React","useState","useEffect","useRef","Link","Splide","SplideSlide","ProjectsSlider","pages","setPages","isLoading","setIsLoading","ref","sliderOptions","rewind","perMove","gap","type","autoWidth","pagination","arrows","focus","trimspace","fetchPages","fetch","then","response","json","items","handleLeftClick","e","current","splide","go","err","console","log","handleRightClick","handleReset","map","page","index","meta","slug","card_image","title","card_description","client"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Splide, SplideSlide } from '@splidejs/react-splide';\nimport '@splidejs/splide/dist/css/themes/splide-default.min.css';\nimport './ProjectsSlider.css';\n\nfunction ProjectsSlider() {\n  const [pages, setPages] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const ref = useRef();\n\n  const sliderOptions = {\n      rewind: true,\n      perMove: 0,\n      gap: '3vw',\n      type: 'loop',\n      autoWidth: true,\n      pagination: false,\n      arrows: false,\n      focus: 'center',\n      trimspace: false,\n  }\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchPages();\n    // handleReset();\n    setIsLoading(false);\n  }, []);\n  \n  function fetchPages() {\n    fetch('https://sarah-ryder-backend.herokuapp.com/api/v2/pages/?type=portfolio.Project&fields=client,card_image,card_description')\n      .then(response => response.json())\n      .then(json => setPages(json.items))\n  }\n\n  function handleLeftClick(e) {\n    try {\n      ref.current.splide.go('<');\n    }\n    catch(err) {\n      console.log(err)\n    }\n  }\n\n  function handleRightClick(e) {\n    try {\n      ref.current.splide.go('>');\n    }\n    catch(err) {\n      console.log(err)\n    }\n  }\n\n  function handleReset(e) {\n    try {\n      ref.current.splide.go('+{2}');\n    }\n    catch(err) {\n      console.log(err)\n    }\n  }\n\nif (!isLoading) {\n  return (\n    <div id=\"projects-slider-flex-container\">\n      <div id=\"buttons-top-container\">\n        <div id=\"slider-button-top-left\" onClick={handleLeftClick}/>\n        <div id=\"slider-button-top-right\" onClick={handleRightClick}/>\n      </div>\n      <div className=\"projects-slider-container\">\n        <Splide\n          options={ sliderOptions }\n          ref={ref}\n          >\n          {pages.map((page, index) => (\n            <SplideSlide key={index}>\n              <Link to={\"/\" + page.meta.slug} onClick={handleReset()} className=\"nav-link\">\n                <div className=\"projects-slider-card-container\">\n                  <div className=\"projects-slider-card-image-container\">\n                    <img src={'https://sarah-ryder-backend.s3-us-west-2.amazonaws.com/original_images/' + page.card_image.title} alt={page.card_description}/>\n                  </div>\n                  <div className=\"projects-slider-card-text-container\">\n                    <p className=\"projects-slider-client-name\">{page.client}</p>\n                    <p className=\"projects-slider-card-description\">{page.card_description}</p>\n                  </div>\n                </div>\n              </Link>\n            </SplideSlide>\n          ))}\n        </Splide>\n      </div>\n      <div id=\"buttons-bottom-container\">\n        <div id=\"slider-button-bottom-left\" onClick={handleLeftClick}/>\n        <div id=\"slider-button-bottom-right\" onClick={handleRightClick}/>\n      </div>\n    </div>\n  );\n} else {\n  return <div/>\n}\n\n  }\n  \n  export default ProjectsSlider;"]},"metadata":{},"sourceType":"module"}