{"ast":null,"code":"import _slicedToArray from\"/Users/robertpage/Documents/Programming/Projects/sarah_portfolio_site/Production/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect,useRef,forwardRef,useImperativeHandle}from'react';import{Splide,SplideSlide}from'@splidejs/react-splide';import'@splidejs/splide/dist/css/themes/splide-default.min.css';import'./ProjectDetailSlider.css';var ProjectDetailSlider=/*#__PURE__*/forwardRef(function(props,ref){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var splideRef=useRef();var ProjectSliderOptions={type:'fade',rewind:true,perPage:1,autoWidth:true,pagination:false,arrows:false,easing:'steps(0, start)'};useEffect(function(){fetchImages();},[]);function fetchImages(){fetch('https://sarah-ryder-backend.herokuapp.com/api/v2/images/?limit=1000').then(function(response){return response.json();}).then(function(json){return setImages(json);});}useImperativeHandle(ref,function(){return{handleRightClick:function handleRightClick(e){try{splideRef.current.splide.go('>');}catch(err){console.log(err);}},handleLeftClick:function handleLeftClick(e){try{splideRef.current.splide.go('<');}catch(err){console.log(err);}},handleSplideReset:function handleSplideReset(e){try{splideRef.current.splide.go('0');}catch(err){console.log(err);}}};});if(props.mediaGallery&&images){return/*#__PURE__*/_jsx(Splide,{options:ProjectSliderOptions,ref:splideRef,className:\"project-detail-slider\",children:props.mediaGallery.map(function(item,index){if(item.type==='image'){var image=images.items.find(function(obj){return obj.id===item.value;});return/*#__PURE__*/_jsx(SplideSlide,{children:/*#__PURE__*/_jsx(\"div\",{className:\"project-detail-slide\",children:/*#__PURE__*/_jsx(\"img\",{src:'https://sarah-ryder-backend.s3-us-west-2.amazonaws.com/original_images/'+image.title,alt:image.title})})},index);}else if(item.type==='video'){return/*#__PURE__*/_jsx(SplideSlide,{className:\"video-slide\",children:/*#__PURE__*/_jsx(\"iframe\",{src:item.value,width:\"3840\",height:\"2160\",frameBorder:\"0\",allow:\"autoplay; fullscreen\",title:\"project\",className:\"project-video\"})},index);}else{return/*#__PURE__*/_jsx(\"div\",{});}})});}else{return/*#__PURE__*/_jsx(\"div\",{});}});export default ProjectDetailSlider;","map":{"version":3,"sources":["/Users/robertpage/Documents/Programming/Projects/sarah_portfolio_site/Production/frontend/src/components/ProjectDetail/components/ProjectDetailSlider.js"],"names":["React","useState","useEffect","useRef","forwardRef","useImperativeHandle","Splide","SplideSlide","ProjectDetailSlider","props","ref","images","setImages","splideRef","ProjectSliderOptions","type","rewind","perPage","autoWidth","pagination","arrows","easing","fetchImages","fetch","then","response","json","handleRightClick","e","current","splide","go","err","console","log","handleLeftClick","handleSplideReset","mediaGallery","map","item","index","image","items","find","obj","id","value","title"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, forwardRef, useImperativeHandle } from 'react';\nimport { Splide, SplideSlide } from '@splidejs/react-splide';\nimport '@splidejs/splide/dist/css/themes/splide-default.min.css';\nimport './ProjectDetailSlider.css';\n\nconst ProjectDetailSlider = forwardRef((props, ref) => {\n  const [images, setImages] = useState(null)\n    const splideRef = useRef();\n    const ProjectSliderOptions = {\n        type: 'fade',\n        rewind: true,\n        perPage: 1,\n        autoWidth: true,\n        pagination: false,\n        arrows: false,\n        easing: 'steps(0, start)',\n    }\n\n  useEffect(() => {\n    fetchImages();\n  }, [])\n\n  function fetchImages() {\n    fetch('https://sarah-ryder-backend.herokuapp.com/api/v2/images/?limit=1000')\n      .then(response => response.json())\n      .then(json => setImages(json))        \n  }\n\n  useImperativeHandle(ref, () => ({\n\n    handleRightClick(e) {\n      try {\n        splideRef.current.splide.go('>');\n      }\n      catch(err) {\n        console.log(err)\n      }\n    },\n\n    handleLeftClick(e) {\n      try {\n        splideRef.current.splide.go('<');\n      }\n      catch(err) {\n        console.log(err)\n      }\n    },\n\n    handleSplideReset(e) {\n      try {\n        splideRef.current.splide.go('0');\n      }\n      catch(err) {\n        console.log(err)\n      }\n    },\n\n  }));\n\n  if (props.mediaGallery && images) {\n    return (\n        <Splide\n          options={ ProjectSliderOptions }\n          ref={splideRef}\n          className=\"project-detail-slider\"\n        >\n          {props.mediaGallery.map((item, index) => {\n            if (item.type === 'image') {\n              var image = images.items.find(obj => {\n                return obj.id === item.value\n              })\n              return (\n                  <SplideSlide key={index}>\n                    <div className=\"project-detail-slide\">\n                      <img\n                        src={'https://sarah-ryder-backend.s3-us-west-2.amazonaws.com/original_images/' + image.title}\n                        alt={image.title}\n                      />\n                    </div>\n                  </SplideSlide>\n              )\n            }\n            else if (item.type === 'video') {\n              return (\n                <SplideSlide key={index} className=\"video-slide\">\n                  <iframe src={item.value} width=\"3840\" height=\"2160\" frameBorder=\"0\" allow=\"autoplay; fullscreen\" title=\"project\" className=\"project-video\"></iframe>\n                </SplideSlide>\n              )\n              } else {return <div/>}\n            }\n          )}\n        </Splide>\n    );\n  } else {\n    return <div/>\n  }\n});\n  \nexport default ProjectDetailSlider;"]},"metadata":{},"sourceType":"module"}